.. Copyright (C) 2015, Wazuh, Inc.

.. meta::
  :description: Wazuh provides an automated way of building Wazuh Dashboard packages. Learn how to build your own Wazuh Dashboard packages in this section of our documentation.
  
.. _create-dashboard:

Wazuh Dashboard
===

Wazuh provides an automated way of building RPM and DEB Wazuh Dashboard packages. keep in mind that to build a package you must run this tool in a system of the wanted package type.

To create an Dashboard package follow these steps:

Requirements
^^^^^^^^^^^^

 * docker

Download our wazuh-packages repository from GitHub and go to the dashboard directory.

.. code-block:: console

 $ Git clone https://www.github.com/wazuh/wazuh-packages -b |WAZUH_CURRENT|
 $ cd wazuh-packages/stack/dashboard

Go into the folder for the type of package to build
.. code-block:: console
 $ cd rpm # For RPM
 $ cd db # For DEB


Execute the ``build_package.sh`` script, with the different options you desire.

.. code-block:: console

  # ./build_package.sh -h

.. code-block:: none
  :class: output

  Usage: ./build_package.sh [OPTIONS]

	    -a, --architecture <arch>  [Optional] Target architecture of the package [x86_64].
	    --app-url <url>        	[Optional] Set the repository from where the Wazuh plugin should be downloaded. By default, will be used pre-release.
	    -b, --build-base <yes/no>  [Optional] Build a new base or use a existing one. By default, yes.
	    -r, --revision <rev>   	[Optional] Package revision. By default: 1.
	    -s, --store <path>     	[Optional] Set the destination path of package. By default, an output folder will be created.
	    --reference <ref>      	[Optional] wazuh-packages branch to download SPECs, not used by default.
	    --dont-build-docker    	[Optional] Locally built docker image will be used instead of generating a new one.
	    --future               	[Optional] Build test future package 99.99.0 Used for development purposes.
	    --app-url              	[Optional] Valid URL for custom app.
	    -h, --help             	Show this help.


Packages will be generated by default in an output folder, with the base for the package and a file containing the sha	512 of the package.

Below, you will find some examples of how to build a Wazuh Indexer package.

.. code-block:: console

  # ./build_package.sh -b yes

This will generate the base for the package and then an Dashboard package for the default architecture with revision 1.

.. code-block:: console

  # ./build_package.sh -b no -r test -a amd64

This will generate an Dashboard package using an existing base with revision ``test`` and ``x86_64`` architecture.

.. code-block:: console

  # ./build_package.sh -s /path/to/storage/folder

This will generate an Dashboard package in a given path instead of the default output path.

.. code-block:: console
  # ./build_package.sh -b no –dont-build-docker –app-url <APP-URL> 

This will generate a Dashboard package using an existing base and containers that are already present in the host with a custom wazuh plugin located in the given ``--app-url``
