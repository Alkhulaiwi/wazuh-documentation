{"version":3,"file":"min/wazuh-light-box.min.js.map","sources":["src/wazuh-light-box.js"],"sourcesContent":["$(function() {\n  const duration = 200;\n  const durationExtra = 100;\n\n  $('.wazuh-image').attr('tabindex', 0);\n\n  $(document).on('keyup keypress', function(e) {\n    const keyCode = e.keyCode || e.which;\n\n    // Esc\n    if (keyCode === 27) {\n      if ($('#wazuh-light-box').is(':visible')) {\n        closeWazuhLightBox();\n      }\n    }\n\n    // Left arrow\n    if (keyCode === 37) {\n      if ($('#wazuh-light-box').is(':visible')) {\n        showPrevImage();\n      }\n    }\n\n    // Right arrow\n    if (keyCode === 39) {\n      if ($('#wazuh-light-box').is(':visible')) {\n        showNextImage();\n      }\n    }\n\n    // Enter\n    if (keyCode === 13) {\n      if ( ! $('#wazuh-light-box').is(':visible') && $(e.target).hasClass('wazuh-image') ) {\n        openWazuhLightBox($(e.target).attr('id'));\n      }\n    }\n  });\n\n  $('.wazuh-image').on('click', function(e) {\n    openWazuhLightBox($(e.target).attr('id'));\n  });\n  $('#wazuh-light-box-overlay, #wazuh-light-box .wlb-close-button').on('click', closeWazuhLightBox);\n  $('#wazuh-light-box .wlb-prev-button').on('click', showPrevImage);\n  $('#wazuh-light-box .wlb-next-button').on('click', showNextImage);\n\n  /**\n   * Open the light box and shows the selected image on it.\n   * @param  {string} imageID    The ID of the image.\n   */\n  function openWazuhLightBox(imageID) {\n    const lightBox = $('#wazuh-light-box');\n    const lightBoxOverlay = $('#wazuh-light-box-overlay');\n    lightBoxOverlay.addClass('wlb-showing');\n    lightBoxOverlay.animate(\n        {'opacity': 1},\n        durationExtra,\n        function() {\n          lightBoxOverlay.addClass('wlb-visible');\n          lightBoxOverlay.removeClass('wlb-showing');\n        },\n    );\n    lightBox.addClass('wlb-showing');\n    showLightBoxImage(imageID);\n    lightBox.animate(\n        {'opacity': 1},\n        durationExtra,\n        function() {\n          $('#wazuh-light-box-overlay, #wazuh-light-box').addClass('wlb-visible');\n          $('#wazuh-light-box-overlay, #wazuh-light-box').removeClass('wlb-showing');\n          updateBackground(imageID, durationExtra);\n          setTimeout(function() {\n          }, duration);\n        },\n    );\n  }\n\n  /**\n   * Coses the light box with an animation.\n   */\n  function closeWazuhLightBox() {\n    $('#wazuh-light-box-overlay, #wazuh-light-box')\n        .animate(\n            {'opacity': 0},\n            duration,\n            function() {\n              $('#wazuh-light-box-overlay, #wazuh-light-box').removeClass('wlb-visible');\n              $('#wazuh-light-box-overlay, #wazuh-light-box').removeAttr('style');\n              hideCurrentLightBoxImage();\n            },\n        );\n  }\n\n  /**\n   * Shows the selected image on the light box (active image)\n   * @param  {string} imageID    The ID of the image.\n   */\n  function showLightBoxImage(imageID) {\n    $('#wazuh-light-box [data-image-id=\"' + imageID + '\"]').addClass('active');\n  }\n\n  /**\n   * Hides the currently active image from the light box.\n   */\n  function hideCurrentLightBoxImage() {\n    $('#wazuh-light-box [data-image-id].active').removeClass('active');\n  }\n\n  /**\n   * Switches the active image to the next one according to the order they appear on the page.\n   */\n  function showNextImage() {\n    const nextID = $('#wazuh-light-box [data-image-id].active').next().attr('data-image-id');\n    if ( nextID ) {\n      hideCurrentLightBoxImage();\n      setTimeout(function() {\n        updateBackground(nextID, durationExtra);\n        setTimeout(function() {\n          showLightBoxImage(nextID);\n        }, 0);\n      }, 0);\n    }\n  }\n\n  /**\n   * Switches the active image to the previous one according to the order they appear on the page.\n   */\n  function showPrevImage() {\n    const prevID = $('#wazuh-light-box [data-image-id].active').prev().attr('data-image-id');\n    if ( prevID ) {\n      hideCurrentLightBoxImage();\n      setTimeout(function() {\n        updateBackground(prevID, durationExtra);\n        setTimeout(function() {\n          showLightBoxImage(prevID);\n        }, 0);\n      }, 0);\n    }\n  }\n\n  /**\n   * Adjusts the blank background to match the size of a specific image.\n   * @param  {string} imageID       The ID of the image.\n   * @param  {number} animationduration   Time for the animation (miliseconds).\n   */\n  function updateBackground(imageID, animationduration) {\n    const imageElement = $('#wazuh-light-box [data-image-id=\"' + imageID + '\"] img');\n    const newWidth = imageElement.outerWidth();\n    const newHeight = imageElement.outerHeight();\n    const animationTime = animationduration || 0;\n    $('#wazuh-light-box .wlb-loading').animate({'width': newWidth + 'px', 'height': newHeight + 'px'}, animationTime);\n  }\n\n  $(window).on('resize', function() {\n    const imageID = $('#wazuh-light-box [data-image-id].active').attr('data-image-id');\n    updateBackground(imageID, null);\n  });\n});\n"],"names":["$","durationExtra","openWazuhLightBox","imageID","lightBox","lightBoxOverlay","addClass","animate","opacity","removeClass","showLightBoxImage","updateBackground","setTimeout","closeWazuhLightBox","removeAttr","hideCurrentLightBoxImage","showNextImage","nextID","next","attr","showPrevImage","prevID","prev","animationduration","imageElement","newWidth","outerWidth","newHeight","outerHeight","animationTime","width","height","document","on","e","keyCode","which","is","target","hasClass","window"],"mappings":"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"}